# Request the creation of a new private key

Generating a new set of keys and crs is necessary when creating a new FHE Co-processor.

To do so one can use the TKMS cli tool packaged in the following [docker image](https://github.com/zama-ai/kms-core/pkgs/container/kms-blockchain-simulator).

The configuration file of the CLI will need to be modified or mounted with a volume to include:

```{toml}
s3_endpoint = ""
object_folder = ["","","",""]

validator_addresses = [""]
http_validator_endpoints = [""]
kv_store_address = ""
faucet_address = ""

asc_address = ""
csc_address = ""
mnemonic = ""
```

## Key generation

### "Insecure"

Insecure key generation is the fastest way to generate a new key.
The key is generated by a single party and shared with the other parties. 
Hence it is not directly insecure, but instead only generated with a centralized trust assumption.

```{bash}
cargo run -- -f <path-to-toml-config-file> insecure-key-gen
```

### "Secure"

Secure key generation takes a lot longer and is a two step process.
For development purposes insecure key generation is the recommended way.

## Common-Reference-String (CRS) generation

The CRS is a public object used to generate zero-knowledge-proofs of plaintext knowledge (required to add a new ciphertext).
The `max-num-bits` argument specifies the maximum number of bits provable with a given CRS, usually 2048 is used, since this is the size of the largest data-type currently supported.

```{bash}
cargo run -- -f <path-to-toml-config-file> insecure-crs-gen --max-num-bits <max-num-bits>
```

